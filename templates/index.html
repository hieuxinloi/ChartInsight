<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Upload Image</title>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <h2>Upload an Image</h2>
    <form action="/" method="post" enctype="multipart/form-data">
        <input type="file" name="file" required>
        <button type="submit">Upload</button>
    </form>
    
    {% if filename %}
    <h3>Uploaded Image:</h3>
    <img src="{{ url_for('static', filename='uploads/' + filename) }}" alt="Uploaded Image" width="300">
    {% endif %}
    
    {% if result %}
    <h3>Prediction Result: {{ result }}</h3>
    {% endif %}

    {% if char_info %}
        {% if result == 'Pie' %}
            <h3>Prediction Percentages:</h3>
            <table border="1">
                <tr>
                    <th>Category</th>
                    <th>Percentage</th>
                </tr>
                {% for item in char_info %}
                <tr>
                    <td>section{{ item.section }}</td>
                    <td>{{ item.percentage }}</td>
                </tr>
                {% endfor %}
            </table>
        {% elif result == 'Bar' %}
            <h3>Bar Chart Details:</h3>
            <table border="1">
                <tr>
                    <th>Label</th>
                    <th>Color</th>
                    <th>Value</th>
                </tr>
                {% for row in char_info %}
                <tr>
                    <td>{{ row.label }}</td>
                    <td>
                        <div style="width: 20px; height: 20px; background-color: {{ row.color }};">{{row.color}}</div>
                    </td>
                    <td>{{ row.value }}</td>
                </tr>
                {% endfor %}
            </table>
        {% endif %}
    {% endif %}


    
</body>
</html>
